CMAKE_MINIMUM_REQUIRED(VERSION 2.8)

PROJECT(RType)

if (UNIX)
	SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=c++11")
endif (UNIX)

SET(EXECUTABLE_SOURCE_DIR, {CMAKE_SOURCE_DIR})

SET(HEADER)

SET(SOURCE
	main.cpp)

ADD_SUBDIRECTORY("${PROJECT_SOURCE_DIR}/components")
ADD_SUBDIRECTORY("${PROJECT_SOURCE_DIR}/systems")	
ADD_SUBDIRECTORY("${PROJECT_SOURCE_DIR}/events")	
	
ADD_SUBDIRECTORY(Network)
ADD_SUBDIRECTORY(ECS)

INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/components)
INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/ECS)
INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/events)
INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/Network)
INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/systems)
INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/SFML-src/include)

if (UNIX)
	SET(CMAKE_MODULE_PATH "${CMAKE_SOURCE_DIR}/SFML-src/cmake/Modules")
	FIND_PACKAGE(SFML 2 COMPONENTS system window graphics network audio)
	LINK_DIRECTORIES(${SFML_LIBRARIES})
endif (UNIX)

ADD_EXECUTABLE(RType ${SOURCE} ${HEADER})

if (WIN32)
	TARGET_LINK_LIBRARIES (RType ${CMAKE_SOURCE_DIR}/SFML-W/sfml-audio.lib)
	TARGET_LINK_LIBRARIES (RType ${CMAKE_SOURCE_DIR}/SFML-W/sfml-graphics.lib)
	TARGET_LINK_LIBRARIES (RType ${CMAKE_SOURCE_DIR}/SFML-W/sfml-network.lib)
	TARGET_LINK_LIBRARIES (RType ${CMAKE_SOURCE_DIR}/SFML-W/sfml-window.lib)
	TARGET_LINK_LIBRARIES (RType ${CMAKE_SOURCE_DIR}/SFML-W/sfml-system.lib)
endif (WIN32)

TARGET_LINK_LIBRARIES (RType Networklib)
TARGET_LINK_LIBRARIES (RType ECSlib)